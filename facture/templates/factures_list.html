{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}
{% load static %}

<link rel="stylesheet" href="{% static 'patient/assets/css/facture.css' %}">
<link rel="stylesheet" href="{% static 'patient/assets/css/maicons.css' %}">
<link rel="stylesheet" href="{% static 'patient/assets/css/bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'patient/assets/vendor/owl-carousel/css/owl.carousel.css' %}">
<link rel="stylesheet" href="{% static 'patient/assets/vendor/animate/animate.css' %}">
<link rel="stylesheet" href="{% static 'patient/assets/css/theme.css' %}">

<div class="container mt-5">
    <h2 class="text-center mb-4">Vos Factures</h2>
    <table class="table table-bordered table-striped">
        <thead class="thead-dark">
            <tr>
                <th>Description</th>
                <th>Montant</th>
                <th>Date Emission</th>
                <th>Statut</th>
                <th>Date Paiement</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for facture in factures %}
                <tr>
                    <td>{{ facture.description }}</td>
                    <td>{{ facture.montant }}</td>
                    <td>{{ facture.date_emission }}</td>
                    <td>{{ facture.est_payee|yesno:"Payée,Non payée" }}</td>
                    <td>{{ facture.date_paiement }}</td>
                    <td>
                        <!-- Lien pour télécharger le PDF -->
                        <a href="{% url 'generate_pdf' facture.id %}" class="btn btn-info">Télécharger PDF</a>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="6" class="text-center text-muted">
                        Aucune facture trouvée.
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{% url 'home' %}" class="btn btn-primary mt-3">Retour à l'accueil</a>
</div>

<script src="{% static 'website/assets/js/jquery-3.5.1.min.js' %}"></script>
<script src="{% static 'website/assets/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'website/assets/vendor/owl-carousel/js/owl.carousel.min.js' %}"></script>
<script src="{% static 'website/assets/vendor/wow/wow.min.js' %}"></script>
<script src="{% static 'website/assets/js/theme.js' %}"></script>
